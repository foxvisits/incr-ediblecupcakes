---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import RecipeCard from '../components/RecipeCard.tsx';
import { validatedRecipes } from '../data/recipes';

const featuredRecipes = validatedRecipes.filter(recipe => recipe.featured).slice(0, 3);
const categories = [
  { id: 'all', name: 'All Recipes', count: validatedRecipes.length },
  { id: 'classic', name: 'Classic', count: validatedRecipes.filter(r => r.category === 'classic').length },
  { id: 'keto', name: 'Keto', count: validatedRecipes.filter(r => r.category === 'keto').length },
  { id: 'vegan', name: 'Vegan', count: validatedRecipes.filter(r => r.category === 'vegan').length },
  { id: 'nut-free', name: 'Nut-Free', count: validatedRecipes.filter(r => r.category === 'nut-free').length },
];
---

<BaseLayout 
  title="Incr-EdibleCupCakes - Extraordinary Cupcake Recipes for Every Taste"
  description="Discover unique and innovative cupcake recipes including keto, vegan, nut-free, and classic options. Professional baker Sarah shares tested recipes with step-by-step instructions."
  image="/A vibrant, mouth-watering cupcake scene.png"
>
  <Header />
  
  <main class="pt-16 lg:pt-20">
    {/* Hero Section */}
    <section class="relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-cupcake-pink via-cupcake-coral to-cupcake-peach">
      <div class="absolute inset-0">
        <div class="absolute inset-0 bg-white/5"></div>
      </div>
      
      {/* Cupcake & Sprinkle Background Elements */}
      <div class="absolute inset-0 overflow-hidden pointer-events-none">
        {/* Floating Sprinkles */}
        <div class="sprinkles-container">
          <div class="sprinkle bg-sprinkle-yellow rounded-full animate-sprinkle-fall" style="left: 10%; animation-delay: 0s; animation-duration: 8s; width: 8px; height: 8px;"></div>
          <div class="sprinkle bg-sprinkle-blue rounded-lg rotate-45 animate-sprinkle-fall" style="left: 20%; animation-delay: 0.5s; animation-duration: 10s; width: 6px; height: 6px;"></div>
          <div class="sprinkle bg-sprinkle-green rounded-full animate-sprinkle-fall" style="left: 30%; animation-delay: 1s; animation-duration: 9s; width: 10px; height: 10px;"></div>
          <div class="sprinkle bg-sprinkle-purple rounded-lg rotate-45 animate-sprinkle-fall" style="left: 40%; animation-delay: 1.5s; animation-duration: 11s; width: 7px; height: 7px;"></div>
          <div class="sprinkle bg-sprinkle-orange rounded-full animate-sprinkle-fall" style="left: 50%; animation-delay: 2s; animation-duration: 8.5s; width: 9px; height: 9px;"></div>
          <div class="sprinkle bg-sprinkle-yellow rounded-lg rotate-45 animate-sprinkle-fall" style="left: 60%; animation-delay: 2.5s; animation-duration: 9.5s; width: 6px; height: 6px;"></div>
          <div class="sprinkle bg-sprinkle-blue rounded-full animate-sprinkle-fall" style="left: 70%; animation-delay: 3s; animation-duration: 10.5s; width: 8px; height: 8px;"></div>
          <div class="sprinkle bg-sprinkle-green rounded-lg rotate-45 animate-sprinkle-fall" style="left: 80%; animation-delay: 3.5s; animation-duration: 8.8s; width: 7px; height: 7px;"></div>
          <div class="sprinkle bg-sprinkle-purple rounded-full animate-sprinkle-fall" style="left: 90%; animation-delay: 4s; animation-duration: 9.2s; width: 9px; height: 9px;"></div>
          <div class="sprinkle bg-sprinkle-orange rounded-lg rotate-45 animate-sprinkle-fall" style="left: 15%; animation-delay: 4.5s; animation-duration: 10.2s; width: 6px; height: 6px;"></div>
        </div>
        
        {/* Cupcake Icons */}
        <div class="absolute top-20 left-10 text-6xl animate-cupcake-bounce" style="animation-delay: 0s;">🧁</div>
        <div class="absolute bottom-32 right-20 text-4xl animate-cupcake-bounce" style="animation-delay: 1s;">🧁</div>
        <div class="absolute top-1/3 right-10 text-5xl animate-cupcake-bounce" style="animation-delay: 2s;">🧁</div>
        <div class="absolute bottom-1/4 left-1/4 text-3xl animate-cupcake-bounce" style="animation-delay: 1.5s;">🧁</div>
        
        {/* Icing Swirls */}
        <div class="absolute top-1/4 left-1/3 w-16 h-16 bg-white/20 rounded-full animate-icing-swirl"></div>
        <div class="absolute bottom-1/3 right-1/4 w-12 h-12 bg-sprinkle-yellow/30 rounded-full animate-icing-swirl" style="animation-delay: 2s;"></div>
      </div>

      <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center min-h-[80vh]">
          
          {/* Left Column - Hero Text */}
          <div class="text-center lg:text-left animate-fade-in-up-delayed">
            <h1 class="font-quicksand text-6xl sm:text-7xl lg:text-8xl font-black mb-8 leading-tight">
              <span class="text-white drop-shadow-2xl">Incr-</span>
              <span class="gradient-text text-sprinkle-yellow drop-shadow-2xl">Edible</span>
              <br />
              <span class="cupcake-text drop-shadow-2xl">CupCakes</span>
            </h1>
            
            <p class="font-nunito text-xl sm:text-2xl text-white/95 mb-12 leading-relaxed drop-shadow-lg font-medium max-w-2xl mx-auto lg:mx-0">
              🧁 Discover <strong>extraordinary cupcake recipes</strong> that bring joy to every bite! From classic comfort to innovative dietary alternatives.
            </p>
            
            <div class="flex flex-col sm:flex-row gap-6 justify-center lg:justify-start">
              <a
                href="#recipes"
                class="font-quicksand px-10 py-5 bg-gradient-to-r from-sprinkle-yellow to-sprinkle-orange text-white font-bold text-xl rounded-full hover:from-sprinkle-orange hover:to-cupcake-coral transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-3xl border-4 border-white/20"
              >
                🍰 Explore Recipes
              </a>
              <a
                href="/about"
                class="font-quicksand px-10 py-5 border-4 border-white text-white font-bold text-xl rounded-full hover:bg-white hover:text-cupcake-coral transition-all duration-300 transform hover:scale-105 backdrop-blur-sm shadow-xl"
              >
                👩‍🍳 My Story
              </a>
            </div>
          </div>

          {/* Right Column - Cupcake Showcase */}
          <div class="relative animate-fade-in-up" style="animation-delay: 0.5s;">
            <div class="relative">
              {/* Main Cupcake Image */}
              <div class="relative z-10 bg-white/10 backdrop-blur-sm rounded-3xl p-8 shadow-2xl">
                <img
                  src="/A vibrant, mouth-watering cupcake scene.png"
                  alt="Delicious cupcakes showcase - various types of cupcakes on colorful background"
                  class="w-full h-80 object-cover rounded-2xl shadow-xl"
                  loading="eager"
                  width="400"
                  height="320"
                />
                
                {/* Floating Recipe Cards */}
                <div class="absolute -top-4 -left-4 bg-white rounded-2xl p-4 shadow-xl animate-float" style="animation-delay: 1s;">
                  <div class="flex items-center space-x-2">
                    <span class="text-2xl">🧁</span>
                    <div>
                      <div class="font-bold text-cupcake-coral text-sm">Classic Vanilla</div>
                      <div class="text-xs text-gray-600">⭐ 4.9 rating</div>
                    </div>
                  </div>
                </div>
                
                <div class="absolute -bottom-4 -right-4 bg-white rounded-2xl p-4 shadow-xl animate-float" style="animation-delay: 2s;">
                  <div class="flex items-center space-x-2">
                    <span class="text-2xl">🍫</span>
                    <div>
                      <div class="font-bold text-cupcake-coral text-sm">Keto Chocolate</div>
                      <div class="text-xs text-gray-600">⏱️ 30 mins</div>
                    </div>
                  </div>
                </div>
                
                <div class="absolute top-1/2 -left-6 bg-white rounded-2xl p-3 shadow-xl animate-float" style="animation-delay: 0.5s;">
                  <div class="text-center">
                    <span class="text-xl">🌈</span>
                    <div class="font-bold text-cupcake-coral text-xs">Vegan</div>
                  </div>
                </div>
              </div>
              
              {/* Background Decoration */}
              <div class="absolute inset-0 bg-gradient-to-br from-white/20 to-sprinkle-yellow/20 rounded-3xl transform rotate-3 scale-105 -z-10"></div>
              <div class="absolute inset-0 bg-gradient-to-br from-sprinkle-blue/20 to-cupcake-pink/20 rounded-3xl transform -rotate-2 scale-110 -z-20"></div>
            </div>
          </div>
        </div>
      </div>

      {/* Scroll Indicator */}
      <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce-gentle">
        <div class="w-8 h-12 border-2 border-white/60 rounded-full flex justify-center backdrop-blur-sm">
          <div class="w-1.5 h-4 bg-white/80 rounded-full mt-2 animate-pulse-fast"></div>
        </div>
        <p class="text-white/80 text-sm mt-2 font-medium drop-shadow-md text-center">Scroll for recipes</p>
      </div>
    </section>

    {/* Featured Recipes Section */}
    <section class="py-32 bg-gradient-to-br from-cupcake-cream to-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-20">
          <h2 class="font-quicksand text-5xl font-black text-gray-900 mb-6">
            Featured <span class="text-cupcake-coral">Creations</span> 🌟
          </h2>
          <p class="font-nunito text-xl text-gray-700 max-w-2xl mx-auto font-medium">
            Handpicked recipes that showcase the perfect blend of innovation and deliciousness
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
          {featuredRecipes.map((recipe, index) => (
            <div
              key={recipe.id}
              class="transform transition-all duration-500 hover:scale-105"
              style={`animation-delay: ${index * 200}ms`}
            >
              <RecipeCard recipe={recipe} client:load />
            </div>
          ))}
        </div>
      </div>
    </section>

    {/* Stats Section */}
    <section class="py-20 bg-gradient-to-r from-cupcake-coral to-cupcake-cherry">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center text-white">
          <div class="transform transition-all duration-300 hover:scale-110 bg-white/10 backdrop-blur-sm rounded-2xl p-6">
            <div class="text-4xl mb-2">📝</div>
            <div class="font-quicksand text-4xl font-black mb-2">50+</div>
            <div class="font-nunito text-white/90 font-medium">Unique Recipes</div>
          </div>
          <div class="transform transition-all duration-300 hover:scale-110 bg-white/10 backdrop-blur-sm rounded-2xl p-6">
            <div class="text-4xl mb-2">👩‍🍳</div>
            <div class="font-quicksand text-4xl font-black mb-2">10K+</div>
            <div class="font-nunito text-white/90 font-medium">Happy Bakers</div>
          </div>
          <div class="transform transition-all duration-300 hover:scale-110 bg-white/10 backdrop-blur-sm rounded-2xl p-6">
            <div class="text-4xl mb-2">⭐</div>
            <div class="font-quicksand text-4xl font-black mb-2">4.9</div>
            <div class="font-nunito text-white/90 font-medium">Average Rating</div>
          </div>
          <div class="transform transition-all duration-300 hover:scale-110 bg-white/10 backdrop-blur-sm rounded-2xl p-6">
            <div class="text-4xl mb-2">👥</div>
            <div class="font-quicksand text-4xl font-black mb-2">25K+</div>
            <div class="font-nunito text-white/90 font-medium">Community Members</div>
          </div>
        </div>
      </div>
    </section>

    {/* All Recipes Section */}
    <section id="recipes" class="py-32 bg-gradient-to-br from-cupcake-cream via-cupcake-vanilla to-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-20">
          <h2 class="font-quicksand text-5xl font-black text-gray-900 mb-6">
            Recipe <span class="text-cupcake-coral">Collection</span> 📚
          </h2>
          <p class="font-nunito text-xl text-gray-700 max-w-2xl mx-auto font-medium">
            Every cupcake tells a story. Explore our complete collection of carefully crafted recipes.
          </p>
        </div>

        {/* Category Filter */}
        <div class="flex flex-wrap justify-center gap-4 mb-16">
          <svg class="w-5 h-5 text-gray-500 mr-2 mt-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"/>
          </svg>
          {categories.map((category) => (
            <button
              key={category.id}
              class={`px-6 py-2 rounded-full font-medium transition-all duration-300 transform hover:scale-105 ${
                category.id === 'all'
                  ? 'bg-cupcake-coral text-white shadow-lg font-bold'
                  : 'bg-white text-gray-700 hover:bg-cupcake-pink hover:text-cupcake-coral shadow-sm font-medium'
              }`}
            >
              {category.name} ({category.count})
            </button>
          ))}
        </div>

        {/* Recipe Grid */}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
          {validatedRecipes.slice(0, 9).map((recipe, index) => (
            <div
              key={recipe.id}
              class="animate-fade-in-up"
              style={`animation-delay: ${index * 100}ms`}
            >
              <RecipeCard recipe={recipe} client:load />
            </div>
          ))}
        </div>
      </div>
    </section>

    {/* Call to Action */}
    <section class="py-32 bg-gradient-to-br from-cupcake-coral to-cupcake-cherry relative overflow-hidden">
      {/* Background Decorations */}
      <div class="absolute inset-0 pointer-events-none">
        <div class="absolute top-10 left-10 text-6xl opacity-20 animate-float">🧁</div>
        <div class="absolute bottom-20 right-20 text-8xl opacity-15 animate-float" style="animation-delay: 1s;">🍰</div>
        <div class="absolute top-1/2 left-1/4 text-4xl opacity-25 animate-float" style="animation-delay: 2s;">🎂</div>
      </div>
      
      <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
        <h2 class="font-quicksand text-5xl font-black text-white mb-8">
          Ready to Start Baking? 🥧
        </h2>
        <p class="font-nunito text-xl text-white/90 mb-12 font-medium">
          Join thousands of bakers who have transformed their kitchens with our incredible recipes.
        </p>
        <div class="flex flex-col sm:flex-row gap-6 justify-center">
          <a
            href="/about"
            class="font-quicksand px-10 py-5 bg-white text-cupcake-coral font-bold text-lg rounded-full hover:bg-cupcake-cream transition-all duration-300 transform hover:scale-105 shadow-lg"
          >
            👩‍🍳 Learn About Me
          </a>
          <a
            href="/contact"
            class="font-quicksand px-10 py-5 border-3 border-white text-white font-bold text-lg rounded-full hover:bg-white hover:text-cupcake-coral transition-all duration-300 transform hover:scale-105"
          >
            💌 Get In Touch
          </a>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>

<style>
  .sprinkles-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
  
  .sprinkle {
    position: absolute;
    top: -20px;
  }
</style>